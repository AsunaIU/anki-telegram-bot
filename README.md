# anki-telegram-bot "Memorius"

Telegram-бот для интервального повторения карточек в духе AnkiDroid. Позволяет пользователю создавать колоды и карточки в них (карточка состоит из вопроса/ответа к нему; либо вопросов с несколькими вариантами ответов), запускать сессии повторения, оценивать свои ответы и отслеживать статистику.

# Возможности бота: 

- Создание и удаление колод
- Добавление / редактирование / удаление карточек
- Поддержка карточек с открытым ответом и карточек в формате теста с вариантами ответа
- Запуск сессионного повторения по выбранной колоде
- Оценка ответа (Лёгко/Средне/Трудно) — влияет на интервалы повторения
- Автоматическая отметка карточки как невыполненная, если пользователь не ответил на нее в течение 1 минуты
- Сбор статистики: прогресс за день/неделю/месяц, число успешно усвоенных карточек, пропущенные и прочие метрики
- Поддержка команды /start и приветственного сценария с предложением поделиться контактом для новых пользователей

# Основной стек

- инфраструктура проекта Docker и docker compose
- aiogram (async-библиотека для Telegram)
- база данных PostgreSQL 
- pytest для тестирования
- Fluentogram для смены языка
- PEP8 (ruff) для оформления кода
- Alembic для миграций
- SQLAlchemy + asyncpg для работы с БД
- Pydantic для валидации настроек и моделей


## Запуск бота
- `cp .env.example .env` и заполнить .env
- `docker compose up -d`

## Запуск тестов
- `uv sync` - установка зависимостей и билд модуля
- `uv pip install -e ".[dev]"` - установка зависимостей для pre-commit и тестов
- `pytest tests/test_handlers.py -v` - запуск тестов хэндлеров
